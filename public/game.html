<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://code.createjs.com/easeljs-0.8.2.min.js"></script>

    <title>Card</title>
    <style>
        body { margin: 0; padding: 0; }
    </style>
    
    <script>
        

        function init() {
            function getArc(startAngle, length, color) {
                var width = 10;
                var diamiter = 100;

                var arc = new createjs.Shape();

                arc.graphics.setStrokeStyle(width);
                arc.graphics.s(createjs.Graphics.getRGB(Math.random()*0xFFFFFF));

                var startAngle = startAngle * Math.PI/180;
                var endAngle = startAngle + length * Math.PI/180;
                arc.graphics.arc(0, 0, diamiter, startAngle, endAngle);

                arc.x = stage.canvas.width/2 - diamiter/2 - width/2;
                arc.y = stage.canvas.width/2 - diamiter/2 - width/2;
                
                return arc;
            }

            var stage = new createjs.Stage("game");

            var background = getArc(0, 360, createjs.Graphics.getRGB(Math.random()*0xFFFFFF));
            stage.addChild(background);

            var target = getArc(0, 45, createjs.Graphics.getRGB(Math.random()*0xFFFFFF));
            stage.addChild(target);
            
            var playerSize = 45;
            var player = getArc(0, 45, createjs.Graphics.getRGB(Math.random()*0xFFFFFF));
            stage.addChild(player);

            createjs.Ticker.addEventListener("tick", handleTick);


            document.addEventListener("click", function(event) {
                var playerPositionStart = player.rotation - playerSize/2;
                var playerPositionEnd = player.rotation + playerSize/2;

                var targetPositionStart = target.rotation + 0;
                var targetPositionEnd = target.rotation + 45;
                
                console.log('player is: ' + playerPositionStart + ' and ' + playerPositionEnd);
                console.log('Target is: ' + targetPositionStart + ' and ' + targetPositionEnd);

                if ((playerPositionEnd > targetPositionStart && playerPositionStart < targetPositionEnd)) {
                    console.log('Winner');
                } else {
                    console.log('lose')
                }
         });

            function handleTick() {
               player.rotation += 10;

               if (player.rotation > 360) {
                   player.rotation = 0;
               }

                stage.update();
            }
        }


    </script>
  </head>
  <body onload="init()">
    <canvas id="game" width="500" height="300"></canvas>
  </body>
</html>
